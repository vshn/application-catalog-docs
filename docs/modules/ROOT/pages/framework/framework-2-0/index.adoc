= Framework 2.0 Decision Index
:navtitle: Framework 2.0

[NOTE]
.What this covers
====
Entry point for Framework 2.0 decisions. Links to persona solutions and individual ADRs that describe configuration language, orchestration, secrets, billing, maintenance, and testing.
====

== TL;DR: Framework 2.0 Architecture

Framework 2.0 enables adding managed services (Redis, PostgreSQL, etc.) without writing Go code.
Service Maintainers define services in xref:adr/0044-configuration-language-kcl-vs-cue.adoc[KCL] - a type-safe configuration language that includes parameter schemas, validation rules, and mappings from user parameters to Helm chart values.
xref:adr/0045-service-orchestration-crossplane-2-0.adoc[Crossplane] orchestrates everything using a single generic composition function (written in Go) that loads the KCL configured manifests at runtime, merges it with user parameters, and generates Kubernetes resources - primarily HelmReleases that deploy the actual service charts.

KCL is the key: it separates service-specific logic from framework code.
Framework Engineers maintain one composition function that works for all services, while Service Maintainers add new services by writing KCL configurations.
xref:adr/0046-secret-management-framework-2-0.adoc[Connection secrets] flow through Crossplane's native mechanism to user namespaces.
xref:adr/0047-service-maintenance-and-upgrades-framework-2-0.adoc[Maintenance and upgrades] use Kubernetes CronJobs that switch Crossplane composition revisions during maintenance windows for controlled rollouts.

image::simple-architecture-2-0.png[Architecture, link="https://miro.com/app/board/uXjVJiczJH0=/",align=center]

[NOTE]
====
Follow how the architecture is evolving on https://miro.com/app/board/uXjVJiczJH0=[Miro Board].
Also a https://github.com/vshn/appcat-poc[Proof of Concept] is available to support the architecture
====

== Persona Solutions

* xref:framework/framework-2-0/personas.adoc[Framework 2.0 Persona Solutions] - Detailed solutions for Service Users, Service Maintainers, Service Operators, and Framework Engineers

== Documentation

* xref:framework/framework-2-0/testing.adoc[Testing Strategy] - Comprehensive five-layer testing approach for Framework 2.0

== Architecture Decision Records

* xref:adr/0044-configuration-language-kcl-vs-cue.adoc[ADR 0044 - Configuration Language: KCL vs CUE]
* xref:adr/0045-service-orchestration-crossplane-2-0.adoc[ADR 0045 - Service Orchestration: Crossplane 2.x]
* xref:adr/0046-secret-management-framework-2-0.adoc[ADR 0046 - Secret Management]
* xref:adr/0047-service-maintenance-and-upgrades-framework-2-0.adoc[ADR 0047 - Service Maintenance and Upgrades]
